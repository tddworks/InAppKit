coverage:
  status:
    project:
      default:
        target: 70%
        threshold: 2%
      # Domain code requires higher coverage
      domain:
        target: 85%
        threshold: 2%
        paths:
          - "Sources/InAppKit/Core/**"
          - "Sources/InAppKit/Configuration/**"
      # UI code has lower coverage requirements (SwiftUI is hard to unit test)
      ui:
        target: 30%
        threshold: 5%
        paths:
          - "Sources/InAppKit/UI/**"
    patch:
      default:
        target: 60%

# Coverage flags for different code areas
flags:
  domain:
    paths:
      - Sources/InAppKit/Core/
      - Sources/InAppKit/Configuration/
    carryforward: true
  ui:
    paths:
      - Sources/InAppKit/UI/
    carryforward: true

comment:
  layout: "reach,diff,flags,tree"
  behavior: default
  require_changes: false

ignore:
  # SwiftUI previews
  - "**/*Preview*.swift"
  # Test helpers
  - "**/TestHelpers/**/*"
  # Logger (infrastructure, not domain)
  - "**/Logger.swift"
  # Platform extensions (utility code)
  - "**/PlatformExtensions.swift"